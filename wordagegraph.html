<!DOCTYPE html>
<meta charset="utf-8">

<!-- Load d3.js -->
<script src="https://d3js.org/d3.v4.js"></script>

<!-- Create a div where the graph will take place -->
<div id="vis"></div>

<script>
//exact sizes will depend on svg and page formatting
var margin = {}
var width;
var height;

//2D array holding year and frequency of word usage. pulled from the API
//assuming elements are "year" and "frequency"
wordData = [];

//year where the word was used most frequently. also pulled from the API
maxFreqYear;

//find the index of this year
maxIndex;
wordData.forEach(item => 
	if (item.year === maxFreqYear) { maxIndex = item.frequency };
);

//add X axis
var x = d3.scaleLinear()
	.domain([1800, 2000])
	.range([0, width]);
	
svg.append("g")
	.attr("transform", "translate(0," + height + ")")
    .call(d3.axisBottom(x));

//text label for x axis
svg.append("text")             
    .attr("transform",
        "translate(" + (width/2) + " ," + 
                       (height + margin.top) + ")")
      .style("text-anchor", "middle")
      .text("Time");

//add Y axis
var y = d3.scaleLinear()
    .domain([0, wordData[maxIndex].frequency]) //sets the Y axis limit to the max frequency
    .range([height, 0]);
	
svg.append("g")
    .call(d3.axisLeft(y));
	
//text label for the y axis
svg.append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", 0 - margin.left)
      .attr("x", 0 - (height / 2))
      .attr("dy", "1em")
      .style("text-anchor", "middle")
      .text("Frequency of Word Usage"); 

//add the line
svg.append("path")
      .datum(wordData)
      .attr("fill", "none")
      .attr("stroke", "black")
      .attr("stroke-width", 1.5)
      .attr("d", d3.line()
        .x(function(d) { return x(d.year) })
        .y(function(d) { return y(d.frequency) })
        );

</script>
